{"firstLayout":"","gdVersion":{"build":96,"major":4,"minor":0,"revision":0},"properties":{"folderProject":false,"linuxExecutableFilename":"","macExecutableFilename":"","packageName":"","projectFile":"C:\\Users\\szoszo\\Desktop\\Projects\\gametemplates\\gdevelop5\\pin-object-to-another\\game.json","useExternalSourceFiles":false,"winExecutableFilename":"","winExecutableIconFile":"","name":"Project","author":"","windowWidth":800,"windowHeight":600,"latestCompilationDirectory":"","maxFPS":60,"minFPS":10,"verticalSync":false,"extensions":[{"name":"BuiltinObject"},{"name":"BuiltinAudio"},{"name":"BuiltinVariables"},{"name":"BuiltinTime"},{"name":"BuiltinMouse"},{"name":"BuiltinKeyboard"},{"name":"BuiltinJoystick"},{"name":"BuiltinCamera"},{"name":"BuiltinWindow"},{"name":"BuiltinFile"},{"name":"BuiltinNetwork"},{"name":"BuiltinScene"},{"name":"BuiltinAdvanced"},{"name":"Sprite"},{"name":"BuiltinCommonInstructions"},{"name":"BuiltinCommonConversions"},{"name":"BuiltinStringInstructions"},{"name":"BuiltinMathematicalTools"},{"name":"BuiltinExternalLayouts"},{"name":"TextObject"},{"name":"DraggableBehavior"}],"platforms":[{"name":"GDevelop JS platform"}],"currentPlatform":"GDevelop JS platform"},"resources":{"resources":[{"alwaysLoaded":false,"file":"parent.png","kind":"image","name":"parent.png","smoothed":true,"userAdded":true},{"alwaysLoaded":false,"file":"child.png","kind":"image","name":"child.png","smoothed":true,"userAdded":true}],"resourceFolders":[]},"objects":[],"objectsGroups":[],"variables":[],"layouts":[{"b":209,"disableInputWhenNotFocused":true,"mangledName":"New_32scene","name":"New scene","oglFOV":90,"oglZFar":500,"oglZNear":1,"r":209,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":209,"uiSettings":{"grid":false,"gridB":255,"gridG":180,"gridHeight":32,"gridOffsetX":0,"gridOffsetY":0,"gridR":158,"gridWidth":32,"snap":true,"windowMask":false,"zoomFactor":1},"objectsGroups":[],"variables":[],"instances":[{"angle":0,"customSize":false,"height":0,"layer":"","locked":false,"name":"message","width":0,"x":10,"y":12.5,"zOrder":10,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":false,"height":0,"layer":"","locked":false,"name":"child","width":0,"x":273,"y":304.5,"zOrder":6,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":false,"height":0,"layer":"","locked":false,"name":"parent","width":0,"x":429,"y":304,"zOrder":11,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":false,"height":0,"layer":"","locked":false,"name":"parentangle","width":0,"x":16,"y":107,"zOrder":12,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":false,"height":0,"layer":"","locked":false,"name":"childangle","width":0,"x":13,"y":144,"zOrder":13,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":false,"height":0,"layer":"","locked":false,"name":"distanceX","width":0,"x":18,"y":178,"zOrder":14,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"bold":false,"italic":false,"name":"message","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"behaviors":[],"string":"drag parent and child using the mouse\nrotate parent using 'a' and 's' to rotate child, drag the  child then use 'a' and 's'\nadd more child objects by pressing the Space key","font":"","characterSize":20,"color":{"b":0,"g":0,"r":0}},{"name":"parent","type":"Sprite","updateIfNotVisible":true,"variables":[],"behaviors":[{"name":"Draggable","type":"DraggableBehavior::Draggable"}],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":1,"sprites":[{"hasCustomCollisionMask":false,"image":"parent.png","points":[],"originPoint":{"name":"origine","x":50,"y":50},"centerPoint":{"automatic":true,"name":"centre","x":50,"y":50},"customCollisionMask":[[{"x":0,"y":0},{"x":100,"y":0},{"x":100,"y":100},{"x":0,"y":100}]]}]}]}]},{"name":"child","type":"Sprite","updateIfNotVisible":true,"variables":[],"behaviors":[{"name":"Draggable","type":"DraggableBehavior::Draggable"}],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":1,"sprites":[{"hasCustomCollisionMask":false,"image":"child.png","points":[],"originPoint":{"name":"origine","x":50,"y":50},"centerPoint":{"automatic":false,"name":"centre","x":50,"y":50},"customCollisionMask":[[{"x":0,"y":0},{"x":100,"y":0},{"x":100,"y":100},{"x":0,"y":100}]]}]}]}]},{"bold":false,"italic":false,"name":"parentangle","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"behaviors":[],"string":"parentangle","font":"","characterSize":20,"color":{"b":0,"g":0,"r":0}},{"bold":false,"italic":false,"name":"childangle","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"behaviors":[],"string":"childangle","font":"","characterSize":20,"color":{"b":0,"g":0,"r":0}},{"bold":false,"italic":false,"name":"distanceX","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"behaviors":[],"string":"distanceX","font":"","characterSize":20,"color":{"b":0,"g":0,"r":0}}],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"disabled":false,"folded":false,"name":"Parenting","source":"","type":"BuiltinCommonInstructions::Group","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"TextObject::String"},"parameters":["parentangle","=","ToString(parent.Angle())"],"subInstructions":[]},{"type":{"inverted":false,"value":"TextObject::String"},"parameters":["childangle","=","ToString(child.Angle())"],"subInstructions":[]},{"type":{"inverted":false,"value":"TextObject::String"},"parameters":["distanceX","=","ToString(child.Variable(distanceX))"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"calculate distance and angle of child object at the beginning of the scene","comment2":""},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"DepartScene"},"parameters":[""],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Link","include":{"includeConfig":0},"target":"Calculate child distance and angle"}]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"rotate the parent using 'a' and 's' if the left mouse button is not pressed (no child is dragged)","comment2":""},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SourisBouton"},"parameters":["child","Left"],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"KeyPressed"},"parameters":["MouseWheelDelta()","a"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"Rotate"},"parameters":["parent","-50",""],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"KeyPressed"},"parameters":["MouseWheelDelta()","s"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"Rotate"},"parameters":["parent","50",""],"subInstructions":[]}],"events":[]}]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"rotate the child object if being dragged","comment2":""},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"DraggableBehavior::Dragged"},"parameters":["child","Draggable"],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"KeyPressed"},"parameters":["MouseWheelDelta()","a"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"Rotate"},"parameters":["child","-50",""],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"KeyPressed"},"parameters":["MouseWheelDelta()","s"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"Rotate"},"parameters":["child","50",""],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Link","include":{"includeConfig":0},"target":"Calculate child distance and angle"}]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"update the angle and position of all child objects","comment2":""},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::ForEach","object":"child","conditions":[{"type":{"inverted":true,"value":"DraggableBehavior::Dragged"},"parameters":["child","Draggable"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"MettreX"},"parameters":["child","=","cos(ToRad(parent.Angle()))*child.Variable(distanceX) - sin(ToRad(parent.Angle()))*child.Variable(distanceY)+parent.PointX(Centre)"],"subInstructions":[]},{"type":{"inverted":false,"value":"MettreY"},"parameters":["child","=","sin(ToRad(parent.Angle()))*child.Variable(distanceX) + cos(ToRad(parent.Angle()))*child.Variable(distanceY)+parent.PointY(Centre)"],"subInstructions":[]},{"type":{"inverted":false,"value":"SetAngle"},"parameters":["child","=","parent.Angle() - child.Variable(angle)"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"create a child object in position of the mouse if the space key is pressed","comment2":""},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"KeyPressed"},"parameters":["","Space"],"subInstructions":[]},{"type":{"inverted":false,"value":"BuiltinCommonInstructions::Once"},"parameters":[],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"Create"},"parameters":["","child","MouseX(\"\",0)","MouseY(\"\",0)",""],"subInstructions":[]}],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Link","include":{"includeConfig":0},"target":"Calculate child distance and angle"}]}],"parameters":[]}],"layers":[{"name":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0,"viewportBottom":1,"viewportLeft":0,"viewportRight":1,"viewportTop":0,"width":0}],"effects":[]}],"behaviorsSharedData":[]}],"externalEvents":[{"associatedLayout":"New scene","lastChangeTimeStamp":0,"name":"Calculate child distance and angle","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::ForEach","object":"child","conditions":[],"actions":[{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["child","distanceX","=","parent.PointX(Centre) - child.PointX(Centre)"],"subInstructions":[]},{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["child","distanceY","=","parent.PointY(Centre) - child.PointY(Centre)"],"subInstructions":[]},{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["child","angle","=","parent.Angle() - child.Angle()"],"subInstructions":[]}],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Egal"},"parameters":["child.PointX(Centre)",">","parent.PointX(Centre)"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["child","distanceX","=","sqrt(child.Variable(distanceX) * child.Variable(distanceX))"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Egal"},"parameters":["child.PointX(Centre)","<","parent.PointX(Centre)"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["child","distanceX","=","sqrt(child.Variable(distanceX) * child.Variable(distanceX)) * -1"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Egal"},"parameters":["child.PointY(Centre)",">","parent.PointY(Centre)"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["child","distanceY","=","sqrt(child.Variable(distanceY) * child.Variable(distanceY))"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Egal"},"parameters":["child.PointY(Centre)","<","parent.PointY(Centre)"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["child","distanceY","=","sqrt(child.Variable(distanceY) * child.Variable(distanceY)) * -1"],"subInstructions":[]}],"events":[]}]}]},{"associatedLayout":"New scene","lastChangeTimeStamp":0,"name":"fix_angle","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"fixing a bug with angle of objects that caused some errors","comment2":""},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Angle"},"parameters":["parent",">","359"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"SetAngle"},"parameters":["parent","-","359"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Angle"},"parameters":["parent","<","0"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"SetAngle"},"parameters":["parent","+","359"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::ForEach","object":"child","conditions":[],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Angle"},"parameters":["child",">","359"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"SetAngle"},"parameters":["child","-","359"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Angle"},"parameters":["child","<","0"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"SetAngle"},"parameters":["child","+","359"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"VarObjet"},"parameters":["child","angle",">","359"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["child","angle","-","359"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"VarObjet"},"parameters":["child","angle","<","0"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["child","angle","+","359"],"subInstructions":[]}],"events":[]}]}]}],"externalLayouts":[],"externalSourceFiles":[]}